FROM tomcat:9.0
COPY target/*.war /usr/local/tomcat/webapps/ROOT.war
CMD ["Catalina","run"]

======================================================================================================================================

version: "3.9"
services:
  app:
    image: myprojectimage
    container_name: myproject_app
    ports:
      - "9090:8080"   # HostPort:ContainerPort, App accessible at http://localhost:9090
    environment:
      DB_HOST: db
      DB_USER: user
      DB_PASSWORD: password
      DB_NAME: mydb
    depends_on:
      - db

  db:
    image: mysql:8
    container_name: myproject_db
    environment:
      MYSQL_ROOT_PASSWORD: rootpassword
      MYSQL_DATABASE: mydb
      MYSQL_USER: user
      MYSQL_PASSWORD: password
    volumes:
      - db_data:/var/lib/mysql
    ports:
      - "3306:3306"   # Optional, only if you want to connect from host

volumes:
  db_data:

====================================================================================================================================

version: "3.9"

services:
  web:
    image: your image
    ports:
      - "8000:8080"
    depends_on:
      - mysql   

  mysql:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: university
      MYSQL_USER: user
      MYSQL_PASSWORD: password
    ports:
      - "3306:3306"
========================================================================================================================================

docker build -t lmsimage 

docker run -d -p 7089:8080 --name lmcontainer lmsimage

docker tag lmsimage kumbhambhargavi/lmsimage:latest

docker push kumbhambhargavi/lmsimage:latest

docker-compose up -d

docker exec -it myproject_db mysql -uuser -ppassword mydb

====================================================================================================================

SSH-Keygen: ssh-keygen -t rsa -C adityapanyalastudy@gmail.com

git:

config :

git config --global user.name "Your Name"
git config --global user.email "youremail@example.com"
git config --list

repo setup:

git remote -v 
git remote add origin <repo_url>
git remote remove origin
git remote set-url origin <new_url>

staging and commit:

git status → Check file states.
git add file.txt → Stage file.
git add . → Stage everything.
git reset file.txt → Unstage file but keep changes.
git commit -m "message" → Commit staged changes.
git commit --amend -m "new message" → Fix last commit message

fetching and pulling:

 git push origin main → Push local commits.
 git push -u origin main → Push & set upstream (first time).
 git pull origin main → Fetch + merge remote changes.
 git fetch origin → Download without merging.
 git fetch origin branch-name → Fetch specific branch.
 git rebase origin/main → Reapply local commits on top of remote.


branching:

 git branch → List branches.
 git branch branch-name → Create branch.
 git checkout branch-name → Switch branch.
 git checkout -b new-branch → Create & switch.
 git branch -d branch-name → Delete branch (safe).
 git branch -D branch-name → Force delete branch.
 git branch -r → List remote branches.
 git branch --merged → See merged branches.
 git remote prune origin → Remove deleted remote branches


merging and conflicts:

 git merge branch-name → Merge into current branch.

 Conflict resolution: open file, fix markers (
 bash
 git add file
 git commit
 <<<<<<< / 
======= / 
>>>>>>> ), then:

 git stash → Save changes temporarily.
 git stash apply → Restore stashed changes


undoing:

 git restore file.txt → Undo changes before staging.
 git reset file.txt → Remove from staging.
 git revert <commit_hash> → Create new commit that undoes a commit.
 git reflog → See history of HEAD, recover deleted branch.


history:

 git log → Full commit history.
 git log --oneline → Short history.
 git show <commit_hash> → Show details of commit.
 git diff → Show unstaged changes.
git blame file.txt → See who changed each line.

FROM openjdk:17

WORKDIR /app

COPY target/MyJavaProject-0.0.1-SNAPSHOT.jar /app/app.jar

CMD ["java", "-jar", "/app/app.jar"]

version: "3.9"

services:
  app:
    build: .
    container_name: mjpc
    depends_on:
      - db
    ports:
      - "8080:8080"   # expose your app on port 8080 (change if needed)

  db:
    image: postgres:15
    container_name: mjp-db
    restart: always
    environment:
      POSTGRES_USER: mjpuser
      POSTGRES_PASSWORD: mjppass
      POSTGRES_DB: mjpdb
    volumes:
      - db_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"   # PostgreSQL default port

volumes:
  db_data:
